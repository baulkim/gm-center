{
  "version": 2,
  "name": "Gedge Platform - GM-Center API GATEWAY",
  "port": {{ .service.port }},
  "cache_ttl": "3600s",
  "timeout": "3s",
  "extra_config": {{ marshal .service.extra_config }},
  "host": {{ marshal .service.default_hosts }},
  "endpoints": [
    {{ range $idx, $endpoint := .endpoint.kubernetes_group }}
      {{if $idx}},{{end}}
    {
      "endpoint": "{{ $endpoint.endpoint }}",
      "method": "{{ $endpoint.method }}",
      "headers_to_pass": [ "Authorization" ],
      "backend": [
        {
          "url_pattern": "{{ $endpoint.backend }}",
          "disable_host_sanitize": "{{ $endpoint.disable_host_sanitize }}",
          "extra_config": {
            {{ include "kubernetes_exclusion.tmpl" }}
          }
        }
      ]
    }
    {{ end }}
  ]
}